<script language=javascript>
//手写javascript无压力了...
errorBase = new Object(); 	//错误信息
errorText = new Object(); 
errorValue = new Object(); 	//错误代码

errorBase['所有类型'] = new Array('不限'); 
	errorText['不限'] = new Array('不限'); 
	errorValue['不限'] = new Array('all'); 

errorBase['书写错误'] = new Array('不限', '表记', '文章格式');
	errorText['表记'] = new Array('表记'); 
	errorValue['表记'] = new Array('Hk'); 
	
	errorText['文章格式'] = new Array('文章格式'); 
	errorValue['文章格式'] = new Array('Ss'); 
	
errorBase['词语错误'] = new Array('不限', '动词', '补助动词', '名词', '形式名词', '代词', '复合词', '代词', '形容词', '助词', '终助词', '连体词', '感叹词', '接辞', '复合助词', '助动词', '接续词', '副词', '词语'); 

	errorText['动词'] = new Array('动词', '词形', '自动词', '被动态', '使役态', '可能态', '授受动词', 'サ变动词', '他动词', '词性'); 
	errorValue['动词'] = new Array('Ds', 'Ds1', 'Ds2', 'Ds3', 'Ds4', 'Ds5', 'Ds5', 'Ds6', 'Ds7', 'Ds8', 'Ds9'); 
	
	errorText['补助动词'] = new Array('补助动词', '词形', '授受关系补助动词', '时体补助动词', '其他补助动词'); 
	errorValue['补助动词'] = new Array('Hj', 'Hj1', 'Hj2', 'Hj3'); 
	
	errorText['名词'] = new Array('名词', '词形', '词义', '词性'); 
	errorValue['名词'] = new Array('Ms', 'Ms1', 'Ms2', 'Ms3'); 
		
	errorText['形式名词'] = new Array('形式名词', '词形', '词义'); 
	errorValue['形式名词'] = new Array('Km'); 
	
	errorText['复合词'] = new Array('复合词', '词形', '词义', '时态复合动词'); 
	errorValue['复合词'] = new Array('Fg'); 
	
	errorText['代词'] = new Array('代词', '词形', '词义'); 
	errorValue['代词'] = new Array('Dm'); 
	
	errorText['形容词'] = new Array('形容词', '词形', '词义', '词性'); 
	errorValue['形容词'] = new Array('Ky'); 
	
	errorText['助词'] = new Array('助词', '格助词', '接续助词'); 
	errorValue['助词'] = new Array('Js'); 
	
	errorText['终助词'] = new Array('终助词语义和形式的使用错误'); 
	errorValue['终助词'] = new Array('Syj'); 
	
	errorText['连体词'] = new Array('连体词'); 
	errorValue['连体词'] = new Array('Rt'); 
	
	errorText['感叹词'] = new Array('感叹词'); 
	errorValue['感叹词'] = new Array('Gd'); 
	
	errorText['接辞'] = new Array('接辞', '词形', '词义'); 
	errorValue['接辞'] = new Array('Sj'); 
	
	errorText['复合助词'] = new Array('复合助词', '词形', '词义'); 
	errorValue['复合助词'] = new Array('Fk'); 
	
	errorText['助动词'] = new Array('助动词', '词形', '词义'); 
	errorValue['助动词'] = new Array('Jd'); 
	
	errorText['接续词'] = new Array('接续词', '词形', '词义'); 
	errorValue['接续词'] = new Array('St'); 
	
	errorText['副词'] = new Array('副词', '词形', '词义', '词性'); 
	errorValue['副词'] = new Array('F'); 
	
errorBase['词组错误'] = new Array('不限', '动/动搭配', '副/动搭配', '名/动搭配', '名/名搭配', '形/名搭配', '形动/名搭配', '形动/动搭配', '形/动搭配', '固定词组', '名/形搭配'); 
errorValue['词组错误'] = 'R';

errorBase['词法错误'] = new Array('不限', '重复', '欠缺', '语体', '语序', '时态'); 
errorValue['词法错误'] = 'W';

errorBase['句子错误'] = new Array('不限', '重复、多余', '欠缺', '时态', '标点', '语序', '句子置换', '文体', '肯定与否定'); 
errorValue['句子错误'] = 'W';

function set_city(province, city, error)
{
   //改变二级级联下拉菜单的选项供选择
	var pv, i;

	pv = province.value;
	city.length = 1;

	if (pv == '0') return;
	if (typeof(errorBase[pv]) == 'undefined') return;

	for (i = 0; i < errorBase[pv].length; i++)
	{
		city.options[i] = new Option();
		city.options[i].text = errorBase[pv][i];
		city.options[i].value = errorBase[pv][i];
	}
    set_next(city, error); 
}

function set_next(city, error)
{
   //改变二级级联下拉菜单的选项供选择
	var cv, i;

	cv = city.value;
	error.length = 1;

	if (cv == '0') return;
	if (typeof(errorText[cv]) == 'undefined') {
		error.options[0] = new Option();
		error.options[0].text = cv;
		error.options[0].value = errorValue[cv] + city.index;
		return;
	}
	
	for (i = 0; i < errorText[cv].length; i++)
	{
		error.options[i] = new Option();
		error.options[i].text = errorText[cv][i];
		error.options[i].value = errorValue[cv] + i;
	}
}

</script>

	<div id = "search" align = "center">
		<div id = "form">
			<form method = 'post' action = "__URL__/search">
				 <div class = "row">
					<div class = "column grid_2">	关键字：</div>
					<div class = "column grid_6">	<input type = "text" name = "keywords" style = "height:23px;width:500px" class = "large bLeft" value="{$keywords}"> </div>
					<div class  = "column gird_2">	<td class = "tRight" width = "16%"><input type = "submit" class = "button" value="搜 索"> </div>
				 </div>
				 
				<div id="seperate" class="row b-l"></div>
		
				 <div class = "row">
					<div class = "column grid_1"> 搜索范围： </div>			
					<div class = "column grid_2">
						<select name="searchtype">
								<option value="all">全文搜索</option>
								<option value="error">在错误文中搜索</option>
								<option value="right">在修正文中搜索</option>
								
						</select> 
					</div>
				
					<div class = "column grid_1"> 上下文： </div>			
					<div class = "column grid_2">
						<select name="context">
								<option value="all">显示上下文</option>
								<option value="hide">隐藏上下文</option>
								
						</select> 
					</div>
				</div>
				
				<div id="seperate" class="row b-l"></div>
				 <div class = "row">
					<div class = "column grid_1"> 错误类型： </div>			
					<div class = "column grid_2">
						<select id=province name=province onchange="set_city(this, document.getElementById('city'), document.getElementById('error'));">
							<option value=所有类型>全部错误</option>
							<option value=书写错误>书写错误</option>
							<option value=词语错误>词语错误</option>
							<option value=词法错误>词法错误</option>
							<option value=词组错误>词组错误</option>
							<option value=句子错误>句子错误</option>
						</select> 
					</div>
				 
					<div class = "column grid_1">  </div>			
					<div class = "column grid_2">
						<select id=city   name=city onchange="set_next(this, document.getElementById('error'));">
							<option value=all>不限</option>
						</select>
					</div>
					
					<div class = "column grid_1">  </div>			
					<div class = "column grid_2">
						<select id=error   name=road>
							<option value=all>不限</option>
						</select>
					</div>
				 </div>
				 
				 <div id="seperate" class="row b-l"></div>
				 <div class = "row">
					<div class = "column grid_1">作者学校： </div>			
					<div class = "column grid_2">
						<select name="school">
							<option value="all">不限</option>
							<option value="東北師範大学">東北師範大学</option>
							<option value="南開大学">南開大学</option>
							<option value="上海師範大学">上海師範大学</option>
							<option value="上海外国語大学">上海外国語大学</option>
							<option value="上海交通大学">上海交通大学</option>
						</select>
					</div>

					<div class = "column grid_1">作者性别： </div>			
					<div class = "column grid_2">
						<select name="gender">
							<option value="all">不限</option>
							<option value="男">男</option>
							<option value="女">女</option>
						</select>
					</div>
					
					<div class = "column grid_1">国籍/民族： </div>			
					<div class = "column grid_2">
						<select name="people">
							<option value="all">不限</option>
							<option value="漢族">汉族</option>
							<option value="朝鮮族">朝鲜族</option>
							<option value="モンゴル族">蒙古族</option>
							<option value="韓国人">韩国人</option>
						</select>
					</div>
					
					<div class = "column grid_1">学生母语： </div>			
					<div class = "column grid_2">
						<select name="firstlang">
							<option value="all">不限</option>
							<option value="中国語">中国语</option>
							<option value="朝鮮語">朝鲜语</option>
							<option value="モンゴル語">蒙古语</option>
							<option value="英語">英语</option>
							<option value="韓国語">韩国语</option>
						</select>
					</div>
					
					<div class = "column grid_1">入学时间：</div>			
					<div class = "column grid_2">
						<select name="year">
							<option value="all">不限</option>
							<option value="1997.9">1997年</option>
							<option value="2001年">2001年</option>
							<option value="2002年">2002年</option>
							<option value="2006.9">2006年</option>
							<option value="2007.9">2007年</option>
							<option value="2008年">2008年</option>
						</select>
					</div>
				</div>
				 
				 
				 <div id="seperate" class="row b-l"></div>
			</form>
		</div>
	</div>